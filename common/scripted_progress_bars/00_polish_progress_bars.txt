je_polish_controversial_queen_progress_bar = {
    name = "je_polish_controversial_queen_progress_bar"
    desc = "je_polish_controversial_queen_progress_bar_desc"

    default_bad = yes

    start_value = 50
    min_value = 0
    max_value = 100

    monthly_progress = {
    # Negative progress (good for the Queen)
    if = { limit = { has_law_or_variant = law_type:law_autocracy } add = { desc = "je_progress_autocracy_penalty" value = -5 } }
    if = { limit = { has_law_or_variant = law_type:law_oligarchy } add = { desc = "je_progress_oligarchy_penalty" value = -5 } }

    # Landed Voting (negative progress, good for the Queen)
    if = { limit = { has_law_or_variant = law_type:law_landed_voting } add = { desc = "je_progress_landed_voting_bonus" value = -2 } }

    # Other voting laws (positive progress, bad for the Queen)
    if = {
        limit = {
            AND = {
                OR = {
                    has_law_or_variant = law_type:law_wealth_voting
                    has_law_or_variant = law_type:law_census_suffrage
                    has_law_or_variant = law_type:law_universal_suffrage
                }
                NOT = { has_law_or_variant = law_type:law_autocracy }
                NOT = { has_law_or_variant = law_type:law_oligarchy }
                NOT = { has_law_or_variant = law_type:law_landed_voting }
            }
        }
        add = { desc = "je_progress_other_voting_bonus" value = 5 }
    }

        # Army clout
        if = { limit = { ig:ig_armed_forces ?= { is_marginal = yes } } add = { desc = "je_progress_army_clout_marginal" value = -5 } }
        else_if = { limit = { ig:ig_armed_forces ?= { is_in_government = yes } } add = { desc = "je_progress_army_clout_gov" value = 5 } }
        else_if = { limit = { ig:ig_armed_forces ?= { is_in_government = no } } add = { desc = "je_progress_army_clout_no_gov" value = 2 } }

        # Devout clout
        if = { limit = { ig:ig_devout ?= { is_marginal = yes } } add = { desc = "je_progress_devout_clout_marginal" value = -5 } }
        else_if = { limit = { ig:ig_devout ?= { is_in_government = yes } } add = { desc = "je_progress_devout_clout_gov" value = 5 } }
        else_if = { limit = { ig:ig_devout ?= { is_in_government = no } } add = { desc = "je_progress_devout_clout_no_gov" value = 2 } }

        # Intelligentsia clout
        if = { limit = { ig:ig_intelligentsia ?= { is_marginal = yes } } add = { desc = "je_progress_intel_clout_marginal" value = 5 } }
        else_if = { limit = { ig:ig_intelligentsia ?= { is_in_government = yes } } add = { desc = "je_progress_intel_clout_gov" value = -5 } }
        else_if = { limit = { ig:ig_intelligentsia ?= { is_in_government = no } } add = { desc = "je_progress_intel_clout_no_gov" value = -2 } }

        # Industrialists clout
        if = { limit = { ig:ig_industrialists ?= { is_marginal = yes } } add = { desc = "je_progress_industry_clout_marginal" value = 5 } }
        else_if = { limit = { ig:ig_industrialists ?= { is_in_government = yes } } add = { desc = "je_progress_industry_clout_gov" value = -5 } }
        else_if = { limit = { ig:ig_industrialists ?= { is_in_government = no } } add = { desc = "je_progress_industry_clout_no_gov" value = -2 } }

        # Landowners clout
        if = { limit = { ig:ig_landowners ?= { is_marginal = yes } } add = { desc = "je_progress_landowners_clout_marginal" value = 5 } }
        else_if = { limit = { ig:ig_landowners ?= { is_in_government = yes } } add = { desc = "je_progress_landowners_clout_gov" value = -5 } }
        else_if = { limit = { ig:ig_landowners ?= { is_in_government = no } } add = { desc = "je_progress_landowners_clout_no_gov" value = -2 } }


        # Technology
        if = {
            limit = { has_technology_researched = socialism }
            add = { desc = "je_progress_socialism" value = 2 }
        }
        else = { add = { desc = "je_progress_socialism_disabled" value = 0 } }

        # Internal Focus
        if = {
            limit = { has_variable = je_polish_internal_true }
            add = { desc = "je_progress_internal_focus" value = -2 }
        }
        else = { add = { desc = "je_progress_internal_focus_disabled" value = 0 } }

        # Not #1 Great Power
        if = {
            limit = { NOT = { is_great_power_rank = 1 } }
            add = { desc = "je_progress_not_top_great_power" value = 1 }
        }
        else = { add = { desc = "je_progress_not_top_great_power_disabled" value = 0 } }

        # Modifiers from buttons
        if = { limit = { has_modifier = republican_concessions_active } add = { desc = "je_progress_republican_concessions" value = -2 } }
        else = { add = { desc = "je_progress_republican_concessions_disabled" value = 0 } }

        if = { limit = { has_modifier = aristocrat_powers_active } add = { desc = "je_progress_aristocrat_powers" value = -2 } }
        else = { add = { desc = "je_progress_aristocrat_powers_disabled" value = 0 } }
    }
}

