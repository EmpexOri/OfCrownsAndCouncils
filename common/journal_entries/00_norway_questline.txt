je_the_northern_century_begins = {
	icon = "gfx/interface/icons/event_icons/event_scales.dds"

	group = je_group_norway

	is_shown_in_lobby = {
		c:NOR = THIS
	}

	possible = {
		# Optional: you could require some tech or milestone
		#has_technology_researched = nationalism
	}

	complete = {
		OR = {
            has_technology_researched = railways
            any_scope_building = {
                is_building_type = building_university
                occupancy >= 0.9
                level >= 5
            }
		}
	}

	on_complete = {
		set_variable = century_begins_complete
        trigger_event = {
            id = norwegian_century.2
            popup = yes
        }
	}

	weight = 10000
	should_be_pinned_by_default = yes
}

je_the_century_of_iron = {
	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	group = je_group_norway

	is_shown_in_lobby = {
		c:NOR = THIS
	}
    is_shown_when_inactive = {
		OR = {
            c:NOR ?= THIS
            was_formed_from = c:NOR
        }
    }

	possible = {
		date >= 1840.1.1
		has_technology_researched = bessemer_process
		has_variable = focus_production_true
	}

	immediate = {
		trigger_event = {
			id = iron_century.1
			popup = yes
		}
	}

	modifiers_while_active = {
		modifier_norway_let_the_furnace_burn
	}

	complete = {
		AND = {
			OR = {
				has_technology_researched = open_hearth_process
				has_technology_researched = mechanized_workshop
				any_scope_building = {
					is_building_type = building_iron_mine
					level >= 10
					occupancy >= 0.9
				}
			}
			OR = {
				any_scope_building = {
					is_building_type = building_steel_mills
					level >= 5
					occupancy >= 0.9
				}
				any_scope_building = {
					is_building_type = building_tooling_workshops
					level >= 5
					occupancy >= 0.9
				}
			}
		}
	}

	on_complete = {
		set_variable = century_begins_complete
        trigger_event = {
            id = iron_century.2
            popup = yes
        }
	}

	weight = 10000
	should_be_pinned_by_default = yes
}

je_norway_the_century_of_steel = {
	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	group = je_group_norway

	possible = {
		has_variable = focus_production_true
	}

	on_add = {
		trigger_event = {
			id = steel_century.1
			popup = yes
		}
	}

	modifiers_while_active = {
		modifier_norway_century_of_steel
	}

	# Progressive completion over time
	timeout = 3650 # 10 years

	on_timeout = {
		trigger_event = {
			id = steel_century.2
			popup = yes
		}
	}

	on_fail = {
		trigger_event = {
			id = forgotten_prodigy.1
			popup = yes
		}
	}

	fail = {
		OR = {
			has_law_or_variant = law_type:law_industry_banned
			has_law_or_variant = law_type:law_compulsory_primary_school
			has_revolution = yes
			NOT = { c:NBS = { is_subject_of = ROOT } }
			NOT = { c:X22 = { is_subject_of = ROOT } }
			NOT = { c:X25 = { is_subject_of = ROOT } }
		}
	}

	weight = 10000
	should_be_pinned_by_default = yes
}

je_the_century_of_art = {
    icon = "gfx/interface/icons/event_icons/event_egalitarian_society.dds"

    group = je_group_norway

    is_shown_in_lobby = {
        c:NOR = THIS
    }

    # Only show if the player is Norway
    is_shown_when_inactive = {
		OR = {
            c:NOR ?= THIS
            was_formed_from = c:NOR
        }
    }

    immediate = {
        trigger_event = {
            id = art_century.1
            popup = yes
        }
    }

    possible = {
        OR = {
            c:NOR ?= THIS
            was_formed_from = c:NOR
        }
        # Must be after 1840
        date >= 1840.1.1
        # Player must have chosen society
        has_variable = focus_society_true
        # Requires relevant tech
        has_technology_researched = egalitarianism
    }

    # Remove immediate trigger — let player activate it as journal
    #immediate = {
    #    trigger_event = {
    #        id = art_century.1
    #        popup = yes
    #    }
    #}

    modifiers_while_active = {
        modifier_norway_thousand_ideas_state
    }

	complete = {
		# 50% of incorporated states have at least 1 university
		any_scope_state = {
			filter = { is_incorporated = yes }
			percent >= 0.25
			any_scope_building = {
				is_building_type = building_university
				level >= 1
				occupancy >= 0.9
			}
		}

		# Capital must have an urban center of at least size 10
		capital = {
			any_scope_building = {
				is_building_type = building_urban_center
				level >= 10
				occupancy >= 0.9
			}
		}

		# Must have researched corporate charters
		has_technology_researched = corporate_charters
	}

    on_complete = {
        set_variable = art_century_begins_complete
        trigger_event = {
            id = art_century.2
            popup = yes
        }
		add_modifier = {
			name = modifier_norway_century_of_art_realized
		}
    }

    weight = 10000
    should_be_pinned_by_default = yes
}

# Colonial Quests
je_the_royal_army = {
    icon = "gfx/interface/icons/event_icons/event_military.dds"

    group = je_group_norway

    # Only show if the player is Norway
    is_shown_when_inactive = {
		OR = {
            c:NOR ?= THIS
            was_formed_from = c:NOR
        }
    }

    possible = {
        OR = {
            c:NOR ?= THIS
            was_formed_from = c:NOR
        }
		game_date >= 1836.6.1
    }

	complete = {
		army_size >= 40
		navy_size >= 40

		any_scope_building = {
			filter = {
				is_building_type = building_barracks
				is_building_type = building_naval_base
			}
			NOR = {
				building_has_goods_shortage = yes
			}
			percent >= 0.75
		}

		# Must have researched corporate charters
		has_technology_researched = logistics
	}

    on_complete = {
        trigger_event = {
            id = the_royal_army.1
            popup = yes
        }
    }

    weight = 10000
    should_be_pinned_by_default = yes
}

je_secure_the_colonies = {
    icon = "gfx/interface/icons/event_icons/event_military.dds"

    group = je_group_norway

    possible = {
        OR = {
            c:NOR ?= THIS
            was_formed_from = c:NOR
        }
    }

	complete = {
		any_country = {
			OR = {
				is_subject_of = THIS
			}
			AND = {
				country_or_subject_owns_entire_state_region = STATE_CALIFORNIA
				country_or_subject_owns_entire_state_region = STATE_OREGON
				country_or_subject_owns_entire_state_region = STATE_NEVADA
				country_or_subject_owns_entire_state_region = STATE_UTAH
				country_or_subject_owns_entire_state_region = STATE_MONTANA
				country_or_subject_owns_entire_state_region = STATE_WASHINGTON 
				country_or_subject_owns_entire_state_region = STATE_BRITISH_COLUMBIA
				country_or_subject_owns_entire_state_region = STATE_ALASKA 
				country_or_subject_owns_entire_state_region = STATE_NORTHWEST_TERRITORIES
			}
		}
	}

    on_complete = {
        trigger_event = {
            id = the_royal_colonies.1
            popup = yes
        }
    }

    weight = 10000
    should_be_pinned_by_default = yes
}